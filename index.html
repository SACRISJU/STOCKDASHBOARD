<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
  <meta name="theme-color" content="#0b0c10" />
  <title>Markets Dashboard</title>
  <link rel="manifest" href="manifest.webmanifest">
  <link rel="apple-touch-icon" href="icons/icon-192.png">
  <style>
    body{margin:0;font-family:system-ui;background:#0b0c10;color:#e8e8e8}
    header{position:sticky;top:0;background:rgba(11,12,16,.9);backdrop-filter:blur(10px);border-bottom:1px solid rgba(255,255,255,.08)}
    .wrap{max-width:1200px;margin:auto;padding:16px}
    h1{margin:0;font-size:18px}
    .sub{font-size:12px;color:#9aa4b2}
    .grid{display:grid;grid-template-columns:1fr;gap:16px;padding:20px 0}
    .card{background:#111622;border:1px solid rgba(255,255,255,.08);border-radius:16px;overflow:hidden}
    .head{padding:12px 14px;border-bottom:1px solid rgba(255,255,255,.08);background:rgba(255,255,255,.03)}
    .chart{height:420px}
  </style>
</head>
<body>
<header>
  <div class="wrap">
    <h1>Markets Dashboard</h1>
    <div class="sub" id="asof"></div>
    <div class="tradingview-widget-container" style="margin-top:10px">
      <div class="tradingview-widget-container__widget"></div>
      <script src="https://s3.tradingview.com/external-embedding/embed-widget-ticker-tape.js" async>
      {
        "symbols": [
          {"proName":"COINBASE:BTCUSD","title":"Bitcoin"},
          {"proName":"OANDA:XAUUSD","title":"Gold"},
          {"proName":"OANDA:XAGUSD","title":"Silver"},
          {"proName":"BME:IBC","title":"IBEX 35"},
          {"proName":"OANDA:SPX500USD","title":"S&P 500"},
          {"proName":"FX_IDC:EURUSD","title":"EUR/USD"}
        ],
        "colorTheme":"dark",
        "isTransparent":true,
        "displayMode":"adaptive"
      }
      </script>
    </div>
  </div>
</header>

<main class="wrap">
  <section class="grid">
    <div class="card"><div class="head">Bitcoin</div><div class="chart">
      <script src="https://s3.tradingview.com/external-embedding/embed-widget-advanced-chart.js" async>
      {"symbol":"COINBASE:BTCUSD","interval":"60","theme":"dark","autosize":true,"withdateranges":true}
      </script>
    </div></div>

    <div class="card"><div class="head">Gold</div><div class="chart">
      <script src="https://s3.tradingview.com/external-embedding/embed-widget-advanced-chart.js" async>
      {"symbol":"OANDA:XAUUSD","interval":"60","theme":"dark","autosize":true,"withdateranges":true}
      </script>
    </div></div>

    <div class="card"><div class="head">Silver</div><div class="chart">
      <script src="https://s3.tradingview.com/external-embedding/embed-widget-advanced-chart.js" async>
      {"symbol":"OANDA:XAGUSD","interval":"60","theme":"dark","autosize":true,"withdateranges":true}
      </script>
    </div></div>

    <div class="card"><div class="head">IBEX 35</div><div class="chart">
      <script src="https://s3.tradingview.com/external-embedding/embed-widget-advanced-chart.js" async>
      {"symbol":"BME:IBC","interval":"60","theme":"dark","autosize":true,"withdateranges":true}
      </script>
    </div></div>

    <div class="card"><div class="head">S&P 500</div><div class="chart">
      <script src="https://s3.tradingview.com/external-embedding/embed-widget-advanced-chart.js" async>
      {"symbol":"OANDA:SPX500USD","interval":"60","theme":"dark","autosize":true,"withdateranges":true}
      </script>
    </div></div>

    <div class="card"><div class="head">EUR / USD</div><div class="chart">
      <script src="https://s3.tradingview.com/external-embedding/embed-widget-advanced-chart.js" async>
      {"symbol":"FX_IDC:EURUSD","interval":"60","theme":"dark","autosize":true,"withdateranges":true}
      </script>
    </div></div>
  </section>
</main>

<script>
  const d=new Date(),p=n=>String(n).padStart(2,'0');
  document.getElementById("asof").textContent=
    `As of ${d.getFullYear()}-${p(d.getMonth()+1)}-${p(d.getDate())} ${p(d.getHours())}:${p(d.getMinutes())}:${p(d.getSeconds())}`;
  if("serviceWorker"in navigator){navigator.serviceWorker.register("./sw.js");}
</script>
</body>
</html>
